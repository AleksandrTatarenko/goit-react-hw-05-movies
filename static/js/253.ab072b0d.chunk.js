"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[253],{253:function(n,e,t){t.r(e),t.d(e,{default:function(){return C}});var r,a,i,c,o,u,s,p,f=t(861),l=t(885),d=t(168),h=t(757),v=t.n(h),x=t(791),g=t(731),Z=t(689),m=t(390),b=t(444),y=b.ZP.div(r||(r=(0,d.Z)(["\npadding: 0 15px 0 15px;\n"]))),w=b.ZP.form(a||(a=(0,d.Z)(["\n  display: flex;\n  align-items: center;\n  margin-top: 25px;\n  width: 100%;\n  max-width: 360px;\n  background-color: #fff;\n  border-radius: 3px;\n  border: 1px solid grey;\n  overflow: hidden;\n"]))),k=b.ZP.button(i||(i=(0,d.Z)(["\n  display: inline-block;\n  width: 88px;\n  height: 48px;\n  font-size: 18px;\n  border: 0;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n  opacity: 1;\n}\n"]))),P=b.ZP.input(c||(c=(0,d.Z)(["\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 18px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &::placeholder {\n  font: inherit;\n  font-size: 18px;\n}\n"]))),S=t(184),_=function(n){var e=n.onSubmit,t=n.query,r=(0,x.useState)(""),a=(0,l.Z)(r,2),i=a[0],c=a[1];(0,x.useEffect)((function(){t&&c(t)}),[t]);return(0,S.jsx)(y,{children:(0,S.jsxs)(w,{onSubmit:function(n){n.preventDefault(),""!==i?e(i):alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u043e\u0438\u0441\u043a\u0430")},children:[(0,S.jsx)(P,{onChange:function(n){n.preventDefault(),c(n.target.value.toLowerCase())},value:i,type:"text",autocomplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,S.jsx)(k,{type:"submit",children:"Search"})]})})},j=b.ZP.div(o||(o=(0,d.Z)(["\npadding: 0 15px 0 15px;\n"]))),q=b.ZP.ul(u||(u=(0,d.Z)(["\n"]))),z=b.ZP.li(s||(s=(0,d.Z)(["\n&:not(:last-child){\n    margin-bottom: 5px;\n};\n"]))),M=(0,b.ZP)(g.OL)(p||(p=(0,d.Z)(["\nfont-weight: normal;\nfont-size: 16px;\n"]))),C=function(){var n=(0,x.useState)(null),e=(0,l.Z)(n,2),t=e[0],r=e[1],a=(0,x.useState)(null),i=(0,l.Z)(a,2),c=i[0],o=i[1],u=(0,Z.TH)(),s=(0,g.lr)(),p=(0,l.Z)(s,2),d=p[0],h=p[1];(0,x.useEffect)((function(){function n(){return n=(0,f.Z)(v().mark((function n(e){var t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m.Z.fetchMovies(e);case 3:t=n.sent,o(t.results),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:return n.prev=10,n.finish(10);case 12:case 13:case"end":return n.stop()}}),n,null,[[0,7,10,12]])}))),n.apply(this,arguments)}r(d.get("query")),null!==t&&function(e){n.apply(this,arguments)}(t)}),[t,d]);return(0,S.jsxs)(j,{children:[(0,S.jsx)(_,{onSubmit:function(n){r(n.toString()),h("?query=".concat(n))},query:d.get("query")}),c?(0,S.jsx)(q,{children:c.map((function(n){var e=n.id,t=n.title,r=n.name;return(0,S.jsx)(z,{children:(0,S.jsx)(M,{to:"".concat(e),state:{from:u},children:t||r})},e)}))}):null]})}},390:function(n,e,t){var r=t(861),a=t(757),i=t.n(a),c=t(44);c.ZP.defaults.baseURL="https://api.themoviedb.org/3/";var o="b3f9afca16a4955ec4fa9a455f1a40de",u=function(){var n=(0,r.Z)(i().mark((function n(){var e,t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.get("trending/all/day?api_key=".concat(o));case 2:return e=n.sent,t=e.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s=function(){var n=(0,r.Z)(i().mark((function n(e){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.get("movie/".concat(e,"?api_key=").concat(o,"&language=en-US"));case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(i().mark((function n(e){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.get("movie/".concat(e,"/credits?api_key=").concat(o,"&language=en-US"));case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(i().mark((function n(e){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.get("movie/".concat(e,"/reviews?api_key=").concat(o,"&language=en-US&page=1"));case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(i().mark((function n(e){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.get("search/movie?api_key=".concat(o,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"));case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d={fetchMoviesInTrend:u,fetchMoviesDetails:s,fetchMovieCredits:p,fetchMovieReviews:f,fetchMovies:l};e.Z=d}}]);
//# sourceMappingURL=253.ab072b0d.chunk.js.map